{
  Vertex vertex=newState.getVertex();
  int index=vertex.getIndex();
  List<State> states;
  if (index < maxIndex) {
    states=stateSetArray[index];
    if (states == null) {
      states=new ArrayList<State>();
      stateSetArray[index]=states;
      states.add(newState);
      return true;
    }
  }
 else {
    states=stateSets.get(vertex);
    if (states == null) {
      states=new ArrayList<State>();
      stateSets.put(vertex,states);
      states.add(newState);
      return true;
    }
  }
  Iterator<State> it=states.iterator();
  while (it.hasNext()) {
    State oldState=it.next();
    if (oldState.dominates(newState))     return false;
    if (newState.dominates(oldState))     it.remove();
  }
  states.add(newState);
  return true;
}
