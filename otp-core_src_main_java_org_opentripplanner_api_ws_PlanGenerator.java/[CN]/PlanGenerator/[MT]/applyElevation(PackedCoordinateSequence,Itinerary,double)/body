{
  if (profile != null) {
    for (    Coordinate coordinate : profile.toCoordinateArray()) {
      if (previousElevation == Double.MAX_VALUE) {
        previousElevation=coordinate.y;
        continue;
      }
      double elevationChange=previousElevation - coordinate.y;
      if (elevationChange > 0) {
        itinerary.elevationGained+=elevationChange;
      }
 else {
        itinerary.elevationLost-=elevationChange;
      }
      previousElevation=coordinate.y;
    }
  }
  return previousElevation;
}
