{
  this.state=state;
  etime=(int)state.getElapsedTimeSeconds();
  mode=state.getNonTransitMode();
  if (state.getVertex() instanceof TransitStop) {
    TransitStop tstop=(TransitStop)state.getVertex();
    StopCluster cluster=state.getOptions().rctx.graph.index.clusterForStop(tstop.getStop());
    stop=cluster;
  }
}
