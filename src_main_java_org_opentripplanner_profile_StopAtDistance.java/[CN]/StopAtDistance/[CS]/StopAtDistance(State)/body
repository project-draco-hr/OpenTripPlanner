{
  GraphPath path=new GraphPath(state,false);
  walkSteps=PlanGenerator.generateWalkSteps(path.states.toArray(new State[0]),null);
  etime=(int)state.getElapsedTimeSeconds();
  distance=(int)state.getWalkDistance();
  mode=state.getNonTransitMode();
  if (state.getVertex() instanceof TransitStop) {
    TransitStop tstop=(TransitStop)state.getVertex();
    stop=tstop.getStop();
  }
}
