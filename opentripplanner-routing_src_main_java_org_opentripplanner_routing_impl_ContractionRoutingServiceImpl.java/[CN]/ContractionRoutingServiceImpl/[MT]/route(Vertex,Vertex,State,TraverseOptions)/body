{
  ContractionHierarchy hierarchy=null;
  hierarchy=hierarchies.getHierarchy(options);
  if (hierarchy == null) {
    Graph _graph=hierarchies.getGraph();
    if (options.isArriveBy()) {
      ShortestPathTree spt=AStar.getShortestPathTreeBack(_graph,fromVertex,toVertex,state,options);
      if (spt == null) {
        return null;
      }
      GraphPath path=spt.getPath(fromVertex);
      if (path == null) {
        return null;
      }
      path.reverse();
      return path;
    }
 else {
      ShortestPathTree spt=AStar.getShortestPathTree(_graph,fromVertex,toVertex,state,options);
      if (spt == null) {
        return null;
      }
      return spt.getPath(toVertex);
    }
  }
  return hierarchy.getShortestPath(fromVertex,toVertex,state,options);
}
