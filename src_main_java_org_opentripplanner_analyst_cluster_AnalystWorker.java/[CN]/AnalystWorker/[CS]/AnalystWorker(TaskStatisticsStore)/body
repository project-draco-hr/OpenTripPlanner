{
  startupTime=System.currentTimeMillis();
  nextShutdownCheckTime=startupTime + 55 * 60 * 1000;
  s3=new AmazonS3Client();
  s3.setRegion(awsRegion);
  objectMapper=new ObjectMapper();
  objectMapper.configure(JsonParser.Feature.ALLOW_COMMENTS,true);
  objectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES,true);
  objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);
  objectMapper.registerModule(AgencyAndIdSerializer.makeModule());
  objectMapper.registerModule(QualifiedModeSetSerializer.makeModule());
  objectMapper.registerModule(JodaLocalDateSerializer.makeModule());
  objectMapper.registerModule(TraverseModeSetSerializer.makeModule());
  objectMapper.registerModule(new GeoJsonModule());
  clusterGraphBuilder=new ClusterGraphBuilder(s3Prefix + "-graphs");
  pointSetDatastore=new PointSetDatastore(10,null,false,s3Prefix + "-pointsets");
  this.statsStore=statsStore;
  instanceType=getInstanceType();
}
