{
  Vertex v=state.getVertex();
  if (v instanceof StreetVertex || v instanceof StreetLocation) {
    Edge edge=state.getBackEdge();
    if (edge instanceof StreetEdge) {
      int cls=((StreetEdge)edge).getStreetClass();
      return cls;
    }
 else {
      return StreetEdge.CLASS_OTHERPATH;
    }
  }
  if (v instanceof OnboardVertex)   return TRANSIT;
  if (v instanceof OffboardVertex)   return STATION;
  if (v instanceof BikeRentalStationVertex)   return StreetEdge.CLASS_OTHERPATH;
 else   throw new RuntimeException("failed to tokenize path");
}
