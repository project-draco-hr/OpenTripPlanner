{
  Vertex stop_a=graph.getVertex("agency_A");
  Vertex stop_c=graph.getVertex("agency_C");
  TraverseOptions options=new TraverseOptions(context);
  ShortestPathTree spt=Dijkstra.getShortestPathTree(graph,stop_a.getLabel(),stop_c.getLabel(),new State(new GregorianCalendar(2009,8,7,8,0,0).getTimeInMillis()),options);
  GraphPath path=spt.getPath(stop_c);
  assertNotNull(path);
  assertEquals(6,path.vertices.size());
  long endTime=new GregorianCalendar(2009,8,7,8,30,0).getTimeInMillis();
  assertEquals(endTime,path.vertices.lastElement().state.getTime());
}
