{
  HashMap<StreetVertex,Set<Edge>> numEdgesStartingAt=new HashMap<StreetVertex,Set<Edge>>();
  for (  Edge edge : edges) {
    Set<Edge> starting=numEdgesStartingAt.get(edge.getFromVertex());
    if (starting == null) {
      starting=new HashSet<Edge>();
      numEdgesStartingAt.put((StreetVertex)edge.getFromVertex(),starting);
    }
    starting.add(edge);
  }
  int maxStarting=0;
  int maxEnding=0;
  Entry<StreetVertex,Set<Edge>> startingVertex=null;
  Entry<StreetVertex,Set<Edge>> endingVertex=null;
  for (  Entry<StreetVertex,Set<Edge>> entry : numEdgesStartingAt.entrySet()) {
    int numEdges=entry.getValue().size();
    if (numEdges >= maxStarting) {
      endingVertex=startingVertex;
      maxEnding=maxStarting;
      maxStarting=numEdges;
      startingVertex=entry;
    }
 else     if (numEdges > maxEnding) {
      endingVertex=entry;
      maxEnding=numEdges;
    }
  }
  return new P2<Entry<StreetVertex,Set<Edge>>>(startingVertex,endingVertex);
}
