{
  initIndexes();
  Envelope envelope=getEnvelope(lowerLeft,upperRight);
  EdgeSet out=new EdgeSet();
  Graph graph=graphService.getGraph();
  @SuppressWarnings("unchecked") List<Edge> query=edgeIndex.query(envelope);
  out.edges=new ArrayList<WrappedEdge>();
  for (  Edge e : query) {
    out.edges.add(new WrappedEdge(e,graph.getIdForEdge(e)));
  }
  return out.withGraph(graph);
}
