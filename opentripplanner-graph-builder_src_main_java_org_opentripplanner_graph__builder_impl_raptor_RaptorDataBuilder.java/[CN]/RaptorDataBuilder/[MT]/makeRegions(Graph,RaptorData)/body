{
  ArrayList<Vertex> vertices=new ArrayList<Vertex>();
  for (  Vertex v : graph.getVertices()) {
    if (!(v instanceof OnboardVertex)) {
      vertices.add(v);
    }
  }
  ArrayList<ArrayList<Vertex>> verticesForRegion=new ArrayList<ArrayList<Vertex>>();
  int[] regionsForVertex=new int[AbstractVertex.getMaxIndex()];
  Arrays.fill(regionsForVertex,-1);
  int nRegions=split(verticesForRegion,regionsForVertex,vertices,0,true,MAX_REGION_SIZE);
  RegionData regions=new RegionData(regionsForVertex);
  regions.minTime=new int[nRegions][nRegions];
  int regionIndex=0;
  for (  ArrayList<Vertex> region : verticesForRegion) {
    if (regionIndex % 5 == 0) {
      log.debug("Building regions: " + regionIndex + " / "+ verticesForRegion.size());
    }
    findMinTime(graph,data,regions,regionIndex,region);
    regionIndex+=1;
  }
  return regions;
}
