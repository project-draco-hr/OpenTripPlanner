{
  boolean success=false;
  if (tripUpdate.getTrip().hasTripId()) {
    String tripId=tripUpdate.getTrip().getTripId();
    boolean cancelScheduledSuccess=cancelScheduledTrip(tripId,serviceDate);
    boolean cancelPreviouslyAddedSuccess=cancelPreviouslyAddedTrip(tripId,serviceDate);
    if (cancelScheduledSuccess || cancelPreviouslyAddedSuccess) {
      success=true;
    }
 else {
      LOG.warn("No pattern found for tripId {}, skipping TripUpdate.",tripId);
    }
  }
 else {
    LOG.warn("No trip id in CANCELED trip update, skipping TripUpdate.");
  }
  return success;
}
