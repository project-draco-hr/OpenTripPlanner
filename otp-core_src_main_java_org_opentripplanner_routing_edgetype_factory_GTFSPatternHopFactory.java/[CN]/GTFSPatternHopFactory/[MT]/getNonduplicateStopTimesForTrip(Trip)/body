{
  List<StopTime> unfiltered=_dao.getStopTimesForTrip(trip);
  List<StopTime> filtered=Lists.newArrayList(unfiltered.size());
  for (  StopTime st : unfiltered) {
    if (filtered.isEmpty()) {
      filtered.add(st);
    }
 else {
      StopTime lastStopTime=filtered.get(filtered.size() - 1);
      if (lastStopTime.getStop().equals(st.getStop())) {
        lastStopTime.setDepartureTime(st.getDepartureTime());
      }
 else {
        filtered.add(st);
      }
    }
  }
  if (filtered.size() == unfiltered.size()) {
    return unfiltered;
  }
 else {
    return filtered;
  }
}
