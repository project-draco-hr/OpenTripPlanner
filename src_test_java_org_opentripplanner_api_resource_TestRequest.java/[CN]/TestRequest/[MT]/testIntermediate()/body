{
  Vertex v1=getVertexByCrossStreets("NW 10TH AVE","W BURNSIDE ST");
  Vertex v2=getVertexByCrossStreets("SE 82ND AVE","SE ASH ST").getOutgoing().iterator().next().getToVertex();
  Vertex v3=getVertexByCrossStreets("NE 21ST AVE","NE MASON ST").getOutgoing().iterator().next().getToVertex();
  Vertex v4=getVertexByCrossStreets("SE 92ND AVE","SE FLAVEL ST");
  assertNotNull(v1);
  assertNotNull(v2);
  assertNotNull(v3);
  assertNotNull(v4);
  TestPlannerResource planner=new TestPlannerResource("portland",v1.getLabel(),v4.getLabel(),Arrays.asList(v2.getLabel(),v3.getLabel()));
  TripPlan plan=planner.getItineraries().getPlan();
  Itinerary itinerary=plan.itinerary.get(0);
  assertTrue(itinerary.legs.size() == 3);
  Leg legs[]=itinerary.legs.toArray(new Leg[3]);
  assertEquals(v1.getLat(),plan.from.lat);
  assertEquals(v1.getLon(),plan.from.lon);
  assertEquals(v1.getLat(),legs[0].from.lat);
  assertEquals(v1.getLon(),legs[0].from.lon);
  assertEquals(v2.getLon(),legs[0].to.lon);
  assertEquals(v2.getLat(),legs[0].to.lat);
  assertEquals(v2.getLat(),legs[1].from.lat);
  assertEquals(v2.getLon(),legs[1].from.lon);
  assertEquals(v3.getLon(),legs[1].to.lon);
  assertEquals(v3.getLat(),legs[1].to.lat);
  assertEquals(v3.getLat(),legs[2].from.lat);
  assertEquals(v3.getLon(),legs[2].from.lon);
  assertEquals(v4.getLon(),legs[2].to.lon);
  assertEquals(v4.getLat(),legs[2].to.lat);
  assertEquals(v4.getLon(),plan.to.lon);
  assertEquals(v4.getLat(),plan.to.lat);
}
