{
  ArrayList<String> notFound=new ArrayList<String>();
  if (!(opt.batch && opt.arriveBy))   if (fromVertex == null)   notFound.add("from");
  if (!opt.batch || opt.arriveBy)   if (toVertex == null)   notFound.add("to");
  for (int i=0; i < intermediateVertices.size(); i++) {
    if (intermediateVertices.get(i) == null) {
      notFound.add("intermediate." + i);
    }
  }
  if (notFound.size() > 0) {
    throw new VertexNotFoundException(notFound);
  }
  if (opt.getModes().isTransit() && !graph.transitFeedCovers(opt.dateTime)) {
    throw new TransitTimesException();
  }
}
