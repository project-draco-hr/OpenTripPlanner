{
  StreetVertex tov=(StreetVertex)street.getToVertex();
  StreetVertex fromv=(StreetVertex)street.getFromVertex();
  Geometry geometry=street.getGeometry();
  P2<LineString> geometries=getGeometry(street,nearestPoint);
  double totalGeomLength=geometry.getLength();
  double lengthRatioIn=geometries.first.getLength() / totalGeomLength;
  double lengthIn=street.getDistance() * lengthRatioIn;
  double lengthOut=street.getDistance() * (1 - lengthRatioIn);
  StreetWithElevationEdge newLeft=new PartialStreetEdge(street,fromv,base,geometries.first,name,lengthIn);
  StreetWithElevationEdge newRight=new PartialStreetEdge(street,base,tov,geometries.second,name,lengthOut);
  newLeft.setElevationProfile(ElevationUtils.getPartialElevationProfile(street.getElevationProfile(),0,lengthIn),false);
  newLeft.setNoThruTraffic(street.isNoThruTraffic());
  newLeft.setStreetClass(street.getStreetClass());
  newRight.setElevationProfile(ElevationUtils.getPartialElevationProfile(street.getElevationProfile(),lengthIn,lengthIn + lengthOut),false);
  newRight.setStreetClass(street.getStreetClass());
  newRight.setNoThruTraffic(street.isNoThruTraffic());
  for (  TurnRestriction turnRestriction : graph.getTurnRestrictions(street)) {
    graph.addTurnRestriction(newRight,turnRestriction);
  }
  base.extra.add(newLeft);
  base.extra.add(newRight);
}
