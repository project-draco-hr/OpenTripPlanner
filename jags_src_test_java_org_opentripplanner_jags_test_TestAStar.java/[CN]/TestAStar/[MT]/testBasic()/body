{
  GtfsContext context=GtfsLibrary.readGtfs(new File(ConstantsForTests.CALTRAIN_GTFS));
  TraverseOptions options=new TraverseOptions();
  options.setGtfsContext(context);
  Graph gg=new Graph();
  GTFSPatternHopLoader hl=new GTFSPatternHopLoader(gg,context);
  hl.load();
  long startTime=new GregorianCalendar(2009,8,7,12,0,0).getTimeInMillis();
  ShortestPathTree spt=AStar.getShortestPathTree(gg,"Caltrain_Millbrae Caltrain","Caltrain_Mountain View Caltrain",new State(startTime),options);
  GraphPath path=spt.getPath(gg.getVertex("Caltrain_Mountain View Caltrain"));
  GregorianCalendar endTime=new GregorianCalendar(2009,8,7,13,29);
  assertEquals(path.vertices.lastElement().state.getTime(),endTime.getTimeInMillis());
}
