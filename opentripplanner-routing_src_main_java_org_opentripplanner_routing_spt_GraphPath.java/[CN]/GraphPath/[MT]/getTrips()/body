{
  List<AgencyAndId> ret=new LinkedList<AgencyAndId>();
  for (  State s : states) {
    EdgeNarrative e=s.getBackEdgeNarrative();
    if (e == null)     continue;
    Trip trip=e.getTrip();
    if (trip != null)     ret.add(trip.getId());
  }
  return ret;
}
