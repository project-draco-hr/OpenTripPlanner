{
  ExecutionResult result;
  if (uriInfo.getQueryParameters().isEmpty()) {
    result=index.graphQL.execute(query);
  }
 else {
    result=index.graphQL.execute(query,null,new HashMap<>(uriInfo.getQueryParameters()));
  }
  if (result.getValidationErrors().isEmpty()) {
    return Response.status(Status.OK).entity(result.getResult()).build();
  }
 else {
    return Response.status(Status.BAD_REQUEST).entity(result.getValidationErrors()).build();
  }
}
