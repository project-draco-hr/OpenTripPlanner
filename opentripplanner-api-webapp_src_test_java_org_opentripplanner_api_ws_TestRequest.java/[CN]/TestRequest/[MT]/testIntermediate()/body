{
  Vertex v1=graph.getVertex("114080 back");
  Vertex v2=graph.getVertex("115250");
  Vertex v3=graph.getVertex("108406");
  Vertex v4=graph.getVertex("192532");
  Vertex[] vertices={v1,v3,v2,v4};
  assertNotNull(v1);
  assertNotNull(v2);
  assertNotNull(v3);
  assertNotNull(v4);
  ArrayList<String> intermediates=new ArrayList<String>();
  intermediates.add(v3.getLabel());
  intermediates.add(v2.getLabel());
  Date dateTime=DateUtils.toDate("2009-01-01","10:00:00");
  TraverseOptions options=new TraverseOptions(new TraverseModeSet(TraverseMode.WALK));
  List<GraphPath> paths=pathService.plan(v1.getLabel(),v4.getLabel(),intermediates,false,dateTime,options);
  assertTrue(paths.size() > 0);
  GraphPath path=paths.get(0);
  int curVertex=0;
  for (  State s : path.states) {
    if (s.getVertex().equals(vertices[curVertex])) {
      curVertex+=1;
    }
  }
  assertEquals(4,curVertex);
}
