{
  for (  Ride ride : rides.get(stop)) {
    if (ride.previous == qr.previous && ride.route == qr.pattern.route && ride.to == stop) {
      ride.patterns.add(qr.pattern);
      return ride;
    }
  }
  Ride ride=new Ride(qr,stop);
  ride.stats=stats;
  rides.put(stop,ride);
  return ride;
}
