{
  if (weight == -1) {
    State s1=edge1.traverse(s0);
    if (s1 == null)     return null;
    State s2=edge2.traverse(s1);
    if (s2 == null)     return null;
    time=(int)((s2.getTime() - s0.getTime()) / 1000);
    weight=s2.getWeight() - s0.getWeight();
    mode=s2.getBackEdgeNarrative().getMode();
  }
  StateEditor ret=s0.edit(this);
  ret.incrementTimeInSeconds(time);
  ret.incrementWeight(weight);
  return ret.makeState();
}
