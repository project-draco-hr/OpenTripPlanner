{
  Edge first, second;
  if (s0.getOptions().isArriveBy()) {
    first=edge2;
    second=edge1;
  }
 else {
    first=edge1;
    second=edge2;
  }
  State s1;
  if (first instanceof Shortcut)   s1=((Shortcut)first).unpackTraverse(s0);
 else   s1=first.traverse(s0);
  if (s1 == null)   return null;
  if (second instanceof Shortcut)   s1=((Shortcut)second).unpackTraverse(s1);
 else   s1=second.traverse(s1);
  return s1;
}
