{
  File graphPath=_graphBundle.getGraphPath();
  if (graphPath.exists() && !_alwaysRebuild) {
    _log.info("graph already exists and alwaysRebuild=false => skipping graph build");
    return;
  }
  for (  GraphBuilder load : _graphBuilders)   load.buildGraph(_graph);
  ContractionHierarchySet chs=new ContractionHierarchySet(_graph,_modeList,_contractionFactor);
  chs.build();
  try {
    ContractionHierarchySerializationLibrary.writeGraph(chs,graphPath);
  }
 catch (  Exception ex) {
    throw new IllegalStateException(ex);
  }
}
