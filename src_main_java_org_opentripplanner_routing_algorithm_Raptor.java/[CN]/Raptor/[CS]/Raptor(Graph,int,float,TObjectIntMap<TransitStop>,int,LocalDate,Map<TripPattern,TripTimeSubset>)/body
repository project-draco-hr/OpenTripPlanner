{
  this.graph=graph;
  this.maxTransfers=maxTransfers;
  this.times=timetables;
  this.walkSpeed=walkSpeed;
  this.date=date;
  for (TObjectIntIterator<TransitStop> it=accessTimes.iterator(); it.hasNext(); ) {
    it.advance();
    transferStops.put(it.key(),startTime + it.value());
    markedPatterns.addAll(graph.index.patternsForStop.get(it.key().getStop()));
  }
}
