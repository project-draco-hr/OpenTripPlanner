{
  Collection<Edge> ret;
  if (replacementEdges != null) {
    ret=incoming ? replacementEdges.getIncoming(this) : replacementEdges.getOutgoing(this);
  }
 else {
    ret=incoming ? this.getIncoming() : this.getOutgoing();
  }
  if (extraEdges != null) {
    Collection<Edge> extra=incoming ? extraEdges.getIncoming(this) : extraEdges.getOutgoing(this);
    if (extra != null) {
      ret=new ArrayList<Edge>(ret);
      ret.addAll(extra);
      return ret;
    }
  }
  return ret;
}
