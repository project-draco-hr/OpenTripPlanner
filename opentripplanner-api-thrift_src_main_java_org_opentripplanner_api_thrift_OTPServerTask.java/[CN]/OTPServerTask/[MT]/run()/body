{
  LOG.info("Run called, port {}",port);
  if (otpServiceImpl == null) {
    LOG.warn("otpServiceImpl is null, bailing");
    return;
  }
  try {
    OTPService.Processor<OTPServiceImpl> processor=new OTPService.Processor<OTPServiceImpl>(otpServiceImpl);
    TServerTransport serverTransport=new TServerSocket(port);
    TProtocolFactory protocolFactory=new TBinaryProtocol.Factory(true,true);
    TThreadPoolServer.Args args=new TThreadPoolServer.Args(serverTransport).processor(processor).protocolFactory(protocolFactory);
    TServer server=new TThreadPoolServer(args);
    LOG.info("Starting the OTPService on port {}",port);
    server.serve();
  }
 catch (  TTransportException e) {
    e.printStackTrace();
  }
}
