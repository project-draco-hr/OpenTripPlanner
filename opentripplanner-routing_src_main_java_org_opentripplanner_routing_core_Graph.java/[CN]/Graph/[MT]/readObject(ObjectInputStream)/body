{
  LOG.debug("Reading graph...");
  in.defaultReadObject();
  List<Edge> edges=(ArrayList<Edge>)in.readObject();
  LOG.debug("Loading edges...");
  this.vertices=new HashMap<String,Vertex>();
  int count=0;
  for (  Edge e : edges) {
    if (++count % 100000 == 0)     LOG.debug("loading edge {} / {}",count,edges.size());
    Vertex fromv=e.getFromVertex();
    Vertex tov=null;
    if (e instanceof AbstractEdge)     tov=((AbstractEdge)e).getToVertex();
 else     if (e instanceof TurnEdge)     tov=((TurnEdge)e).getToVertex();
 else     LOG.warn("Edge with no to-vertex: " + e);
    vertices.put(fromv.getLabel(),fromv);
    fromv.addOutgoing(e);
    if (tov != null) {
      vertices.put(tov.getLabel(),tov);
      tov.addIncoming(e);
    }
  }
}
