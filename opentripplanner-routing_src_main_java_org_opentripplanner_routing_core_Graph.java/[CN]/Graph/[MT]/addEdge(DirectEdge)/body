{
  Vertex fromv=ee.getFromVertex();
  Vertex tov=ee.getToVertex();
  fromv=addVertex(fromv);
  tov=addVertex(tov);
  if (ee.getFromVertex() != fromv || ee.getToVertex() != tov)   throw new IllegalStateException("Saving an edge with the wrong vertex.");
  fromv.addOutgoing(ee);
  tov.addIncoming(ee);
}
