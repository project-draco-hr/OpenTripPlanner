{
  try {
    String baseAddress=this.transitServerGtfs.getGeoserverBaseUri();
    UriBuilder uriBuilder=null;
    try {
      uriBuilder=UriBuilder.fromUri(baseAddress).queryParam("service",service).queryParam("version",version).queryParam("request",request).queryParam("layers",layers).queryParam("query_layers",query_layers).queryParam("styles",styles).queryParam("bbox",bbox).queryParam("srs",srs).queryParam("feature_count",feature_count).queryParam("x",x).queryParam("y",y).queryParam("height",height).queryParam("width",width).queryParam("info_format",info_format);
    }
 catch (    IllegalArgumentException e) {
      e.printStackTrace();
      throw new WebApplicationException(400);
    }
    URI uri=uriBuilder.build();
    String urlString=uri.toString();
    URL url=new URL(urlString);
    URLConnection conn=url.openConnection();
    BufferedReader reader=new BufferedReader(new InputStreamReader(conn.getInputStream()));
    String stopId=reader.readLine();
    if (stopId == null) {
      throw new WebApplicationException(404);
    }
    reader.close();
    Stop stop=this.transitServerGtfs.getGtfsContext().getDao().getStopForId(new AgencyAndId("MTA NYCT",stopId));
    if (stop == null) {
      throw new WebApplicationException(404);
    }
    String latlon=buildLatLon(stop.getLat(),stop.getLon());
    return new TransitServerDetailedStop(transitServerGtfs,latlon,3);
  }
 catch (  MalformedURLException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
  throw new WebApplicationException(404);
}
