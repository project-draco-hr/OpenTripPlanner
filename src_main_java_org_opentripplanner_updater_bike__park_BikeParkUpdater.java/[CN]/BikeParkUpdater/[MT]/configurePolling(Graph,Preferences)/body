{
  String sourceType=preferences.get("sourceType",null);
  BikeParkDataSource source=null;
  if (sourceType != null) {
    if (sourceType.equals("kml-placemarks")) {
      source=new KmlBikeParkDataSource();
    }
  }
  if (source == null) {
    throw new IllegalArgumentException("Unknown bike rental source type: " + sourceType);
  }
 else   if (source instanceof PreferencesConfigurable) {
    ((PreferencesConfigurable)source).configure(graph,preferences);
  }
  this.graph=graph;
  this.source=source;
  LOG.info("Creating bike-park updater running every {} seconds : {}",frequencySec,source);
}
