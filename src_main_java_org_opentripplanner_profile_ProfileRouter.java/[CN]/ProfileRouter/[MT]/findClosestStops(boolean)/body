{
  Multimap<StopCluster,StopAtDistance> pathsByStop=ArrayListMultimap.create();
  for (  TraverseMode mode : (dest ? EGRESS_MODES : ACCESS_MODES)) {
    if (request.modes.contains(mode)) {
      LOG.info("{} mode {}",dest ? "egress" : "access",mode);
      for (      StopAtDistance sd : findClosestStops(mode,dest)) {
        pathsByStop.put(sd.stop,sd);
      }
    }
  }
  return pathsByStop;
}
