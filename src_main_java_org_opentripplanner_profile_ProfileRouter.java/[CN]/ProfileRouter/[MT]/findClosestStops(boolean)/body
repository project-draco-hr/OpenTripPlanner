{
  Multimap<Stop,StopAtDistance> pathsByStop=ArrayListMultimap.create();
  for (  TraverseMode mode : (dest ? EGRESS_MODES : ACCESS_MODES)) {
    if (request.modes.contains(mode)) {
      LOG.info("{} mode {}",dest ? "egress" : "access",mode);
      List<StopAtDistance> stops=findClosestStops(mode,dest);
      for (      StopAtDistance sd : stops) {
        pathsByStop.put(sd.stop,sd);
      }
    }
  }
  return pathsByStop;
}
