{
  boolean wheelchairAccessible=false;
  StreetLocation location=new StreetLocation(graph,label,nearestPoint,name);
  List<StreetEdge> allEdges=new ArrayList<StreetEdge>();
  for (  StreetEdge street : edges) {
    allEdges.add(street);
    if (street instanceof AreaEdge) {
      for (      StreetEdge e : ((AreaEdge)street).getArea().getEdges()) {
        allEdges.add(e);
      }
    }
  }
  for (  StreetEdge street : allEdges) {
    Vertex fromv=street.getFromVertex();
    Vertex tov=street.getToVertex();
    wheelchairAccessible|=((StreetEdge)street).isWheelchairAccessible();
    Vertex edgeLocation;
    if (distanceLibrary.distance(nearestPoint,fromv.getCoordinate()) < 0.0001) {
      edgeLocation=fromv;
      new FreeEdge(location,edgeLocation);
      new FreeEdge(edgeLocation,location);
    }
 else     if (distanceLibrary.distance(nearestPoint,tov.getCoordinate()) < 0.0001) {
      edgeLocation=tov;
      new FreeEdge(location,edgeLocation);
      new FreeEdge(edgeLocation,location);
    }
 else {
      edgeLocation=location;
      createHalfLocation(graph,location,label + " to " + tov.getLabel(),name,nearestPoint,street);
      double distanceToNearestTransitStop=Math.min(tov.getDistanceToNearestTransitStop(),fromv.getDistanceToNearestTransitStop());
      edgeLocation.setDistanceToNearestTransitStop(distanceToNearestTransitStop);
    }
  }
  location.setWheelchairAccessible(wheelchairAccessible);
  location.setSourceEdges(allEdges);
  return location;
}
