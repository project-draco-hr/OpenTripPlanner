{
  boolean wheelchairAccessible=false;
  StreetLocation location=new StreetLocation(graph,label,nearestPoint,name);
  location.setDistanceToNearestTransitStop(Double.MAX_VALUE);
  for (  StreetEdge street : edges) {
    Vertex fromv=street.getFromVertex();
    Vertex tov=street.getToVertex();
    wheelchairAccessible|=((StreetEdge)street).isWheelchairAccessible();
    Vertex edgeLocation;
    if (distanceLibrary.distance(nearestPoint,fromv.getCoordinate()) < 0.0001) {
      edgeLocation=fromv;
    }
 else     if (distanceLibrary.distance(nearestPoint,tov.getCoordinate()) < 0.0001) {
      edgeLocation=tov;
      new FreeEdge(location,edgeLocation);
      new FreeEdge(edgeLocation,location);
    }
 else {
      edgeLocation=location;
      createHalfLocation(graph,location,label + " to " + tov.getLabel(),name,nearestPoint,street);
      double distanceToNearestTransitStop=Math.min(tov.getDistanceToNearestTransitStop(),fromv.getDistanceToNearestTransitStop());
      edgeLocation.setDistanceToNearestTransitStop(distanceToNearestTransitStop);
    }
  }
  location.setWheelchairAccessible(wheelchairAccessible);
  location.setSourceEdges(edges);
  return location;
}
