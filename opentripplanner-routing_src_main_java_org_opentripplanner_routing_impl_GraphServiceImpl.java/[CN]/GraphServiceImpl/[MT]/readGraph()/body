{
  File path=null;
  if (_bundle != null)   path=_bundle.getGraphPath();
  if (_graphPath != null)   path=_graphPath;
  if (path == null || !path.exists()) {
    if (!_createEmptyGraphIfNotFound) {
      _log.error("Graph not found. Verify path to stored graph: " + path);
      throw new IllegalStateException("graph path not found: " + path);
    }
    Graph graph=new Graph();
    List<ModeAndOptimize> modeList=Collections.emptyList();
    setContractionHierarchySet(new ContractionHierarchySet(graph,modeList));
    return;
  }
  try {
    ContractionHierarchySet chs=ContractionHierarchySerializationLibrary.readGraph(path);
    setContractionHierarchySet(chs);
  }
 catch (  Exception ex) {
    throw new IllegalStateException("error loading graph from " + path,ex);
  }
}
