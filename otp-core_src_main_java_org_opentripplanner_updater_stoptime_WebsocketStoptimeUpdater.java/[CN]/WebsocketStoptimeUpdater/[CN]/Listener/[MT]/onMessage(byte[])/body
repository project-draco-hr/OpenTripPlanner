{
  try {
    FeedMessage feed=GtfsRealtime.FeedMessage.PARSER.parseFrom(message);
    List<TripUpdateList> updates=TripUpdateList.decodeFromGtfsRealtime(feed,agencyId);
    TripUpdateListGraphWriterRunnable runnable=new TripUpdateListGraphWriterRunnable(updates);
    updaterManager.execute(runnable);
  }
 catch (  InvalidProtocolBufferException e) {
    LOG.error("Could not decode gtfs-rt message:",e);
  }
}
