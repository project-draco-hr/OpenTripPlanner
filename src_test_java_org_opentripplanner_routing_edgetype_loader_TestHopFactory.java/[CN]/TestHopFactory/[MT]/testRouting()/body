{
  Vertex stop_a=graph.getVertex(feedId + ":A");
  Vertex stop_b=graph.getVertex(feedId + ":B");
  Vertex stop_c=graph.getVertex(feedId + ":C");
  Vertex stop_d=graph.getVertex(feedId + ":D");
  Vertex stop_e=graph.getVertex(feedId + ":E");
  RoutingRequest options=new RoutingRequest();
  options.dateTime=TestUtils.dateInSeconds("America/New_York",2009,8,7,0,0,0);
  ShortestPathTree spt;
  GraphPath path;
  options.setRoutingContext(graph,stop_a,stop_b);
  spt=aStar.getShortestPathTree(options);
  path=spt.getPath(stop_b,false);
  assertNotNull(path);
  assertEquals(extractStopVertices(path),Lists.newArrayList(stop_a,stop_b));
  options.setRoutingContext(graph,stop_a,stop_c);
  spt=aStar.getShortestPathTree(options);
  path=spt.getPath(stop_c,false);
  assertNotNull(path);
  assertEquals(extractStopVertices(path),Lists.newArrayList(stop_a,stop_c));
  options.setRoutingContext(graph,stop_a,stop_d);
  spt=aStar.getShortestPathTree(options);
  path=spt.getPath(stop_d,false);
  assertNotNull(path);
  assertEquals(extractStopVertices(path),Lists.newArrayList(stop_a,stop_c,stop_d));
  long endTime=TestUtils.dateInSeconds("America/New_York",2009,8,7,0,0,0) + 40 * 60;
  assertEquals(endTime,path.getEndTime());
  options.setRoutingContext(graph,stop_a,stop_e);
  spt=aStar.getShortestPathTree(options);
  path=spt.getPath(stop_e,false);
  assertNotNull(path);
  assertEquals(extractStopVertices(path),Lists.newArrayList(stop_a,stop_c,stop_e));
  endTime=TestUtils.dateInSeconds("America/New_York",2009,8,7,0,0,0) + 70 * 60;
  assertEquals(endTime,path.getEndTime());
}
