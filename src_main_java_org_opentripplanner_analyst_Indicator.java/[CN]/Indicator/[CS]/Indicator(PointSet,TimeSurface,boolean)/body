{
  super(1);
  this.targets=targets;
  this.surface=surface;
  for (  Category cat : targets.categories.values()) {
    this.categories.put(cat.id,new Category(cat));
  }
  int[] times=targets.getSampleSet(surface.routerId).eval(surface);
  for (  Category cat : categories.values()) {
    for (    Attribute attr : cat.attributes.values()) {
      attr.quantiles=new Quantiles[1];
      attr.quantiles[0]=new Quantiles(times,attr.magnitudes,10);
    }
  }
  if (retainTimes) {
    this.times=new int[1][];
    this.times[0]=times;
  }
}
