{
  boolean filtered=false;
  StopTime prev=null;
  Iterator<StopTime> it=stopTimes.iterator();
  TIntList stopSequencesRemoved=new TIntArrayList();
  while (it.hasNext()) {
    StopTime st=it.next();
    if (prev != null) {
      if (prev.getStop().equals(st.getStop())) {
        st.setDepartureTime(st.getDepartureTime());
        it.remove();
        stopSequencesRemoved.add(st.getStopSequence());
      }
    }
    prev=st;
  }
  return stopSequencesRemoved;
}
