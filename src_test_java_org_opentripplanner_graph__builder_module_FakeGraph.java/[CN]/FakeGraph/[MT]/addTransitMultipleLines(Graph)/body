{
  GTFSFeed feed=new GTFSFeed();
  Agency a=createDummyAgency("agency","Agency","America/New_York");
  feed.agency.put("agency",a);
  Route r=new Route();
  r.route_short_name="1";
  r.route_long_name="High Street";
  r.route_type=3;
  r.agency=a;
  r.route_id="route";
  feed.routes.put(r.route_id,r);
  Service s=createDummyService();
  feed.services.put(s.service_id,s);
  int stopIdx=0;
  while (stopIdx < 10000) {
    com.conveyal.gtfs.model.Stop s1=new com.conveyal.gtfs.model.Stop();
    s1.stop_id=s1.stop_name="s" + stopIdx++;
    s1.stop_lat=39.9354 + (stopIdx % 100) * 1e-3;
    s1.stop_lon=-83.0589 + (stopIdx / 100) * 1e-3;
    feed.stops.put(s1.stop_id,s1);
    com.conveyal.gtfs.model.Stop s2=new com.conveyal.gtfs.model.Stop();
    s2.stop_id=s2.stop_name="s" + stopIdx++;
    s2.stop_lat=39.9354 + (stopIdx % 100) * 1e-3;
    s2.stop_lon=-83.0589 + (stopIdx / 100) * 1e-3;
    feed.stops.put(s2.stop_id,s2);
    int departure=8 * 3600;
    Trip t=new Trip();
    t.trip_id="trip" + departure + "_"+ stopIdx;
    t.service=s;
    t.route=r;
    feed.trips.put(t.trip_id,t);
    StopTime st1=new StopTime();
    st1.trip_id=t.trip_id;
    st1.arrival_time=departure;
    st1.departure_time=departure;
    st1.stop_id=s1.stop_id;
    st1.stop_sequence=1;
    feed.stop_times.put(new Fun.Tuple2(st1.trip_id,st1.stop_sequence),st1);
    StopTime st2=new StopTime();
    st2.trip_id=t.trip_id;
    st2.arrival_time=departure + 500;
    st2.departure_time=departure + 500;
    st2.stop_sequence=2;
    st2.stop_id=s2.stop_id;
    feed.stop_times.put(new Fun.Tuple2(st2.trip_id,st2.stop_sequence),st2);
  }
  File tempFile=File.createTempFile("gtfs",".zip");
  feed.toFile(tempFile.getAbsolutePath());
  GtfsModule gtfs=new GtfsModule(Arrays.asList(new GtfsBundle(tempFile)));
  gtfs.buildGraph(g,new HashMap<>());
}
