{
  Vertex v=state.getVertex();
  Coordinate endCoord=v.getCoordinate();
  String name=v.getName();
  AgencyAndId stopId=null;
  if (v instanceof TransitVertex)   stopId=((TransitVertex)v).getStopId();
  Date timeAtState=new Date(state.getTimeInMillis());
  Place place=new Place(endCoord.x,endCoord.y,name,stopId,timeAtState);
  return place;
}
