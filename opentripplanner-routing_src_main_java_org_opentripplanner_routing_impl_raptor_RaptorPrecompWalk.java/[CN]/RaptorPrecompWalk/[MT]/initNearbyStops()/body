{
  nearbyStops=new List[nTotalStops];
  for (int i=0; i < nTotalStops; ++i) {
    if (i % 500 == 0) {
      System.out.println("HERE:" + i);
    }
    nearbyStops[i]=new ArrayList<T2<Double,RaptorStop>>();
    RaptorStop stop=stops[i];
    Coordinate coord=stop.stopVertex.getCoordinate();
    for (    RaptorStop other : stops) {
      Coordinate otherCoord=other.stopVertex.getCoordinate();
      double distance=distanceLibrary.fastDistance(coord,otherCoord);
      if (distance > 8047)       continue;
      nearbyStops[i].add(new T2<Double,RaptorStop>(distance,other));
    }
    Collections.sort(nearbyStops[i],new Comparator<T2<Double,RaptorStop>>(){
      @Override public int compare(      T2<Double,RaptorStop> arg0,      T2<Double,RaptorStop> arg1){
        return (int)Math.signum(arg0.getFirst() - arg1.getFirst());
      }
    }
);
  }
}
