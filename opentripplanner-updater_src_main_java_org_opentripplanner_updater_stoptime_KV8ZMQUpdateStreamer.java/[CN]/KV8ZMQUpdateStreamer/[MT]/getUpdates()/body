{
  ZMsg msg=ZMsg.recvMsg(subscriber);
  try {
    Iterator<ZFrame> msgs=msg.iterator();
    msgs.next();
    ArrayList<Byte> receivedMsgs=new ArrayList<Byte>();
    while (msgs.hasNext()) {
      for (      byte b : msgs.next().getData()) {
        receivedMsgs.add(b);
      }
    }
    byte[] fullMsg=new byte[receivedMsgs.size()];
    for (int i=0; i < fullMsg.length; i++) {
      fullMsg[i]=receivedMsgs.get(i);
    }
    InputStream gzipped=new ByteArrayInputStream(fullMsg);
    InputStream in=new GZIPInputStream(gzipped);
    StringBuffer out=new StringBuffer();
    byte[] b=new byte[4096];
    for (int n; (n=in.read(b)) != -1; ) {
      out.append(new String(b,0,n));
    }
    return parseCTX(out.toString());
  }
 catch (  Exception e) {
    e.printStackTrace();
    return null;
  }
}
