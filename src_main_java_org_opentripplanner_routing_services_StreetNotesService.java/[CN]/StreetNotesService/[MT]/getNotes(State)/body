{
  Edge edge=state.getBackEdge();
  if (edge instanceof PartialPlainStreetEdge) {
    edge=((PartialPlainStreetEdge)edge).getParentEdge();
  }
  Set<MatcherAndAlert> maas=notesForEdge.get(edge);
  if (maas == null || maas.isEmpty()) {
    return null;
  }
  Set<Alert> notes=new HashSet<Alert>(maas.size());
  for (  MatcherAndAlert maa : maas) {
    if (maa.matcher.matches(state))     notes.add(maa.note);
  }
  if (notes.isEmpty())   return null;
  return notes;
}
