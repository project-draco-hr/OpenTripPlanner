{
  TransportNetwork transportNetwork=TransportNetwork.fromDirectory(new File("."));
  transportNetwork.buildStopTrees();
  RaptorWorkerData raptorWorkerData=new RaptorWorkerData(transportNetwork.transitLayer,new LocalDate());
  try {
    OutputStream outputStream=new BufferedOutputStream(new FileOutputStream("network.dat"));
    transportNetwork.write(outputStream);
    outputStream.close();
    transportNetwork=null;
    InputStream inputStream=new BufferedInputStream(new FileInputStream("network.dat"));
    transportNetwork=TransportNetwork.read(inputStream);
    inputStream.close();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  transportNetwork.testRouting();
}
