{
  println("<html><head><title>Graph report for " + outPath.getParentFile() + "Graph.obj</title>");
  println("\t<meta charset=\"utf-8\">");
  println("<meta name='viewport' content='width=device-width, initial-scale=1'>");
  println("<script src='http://code.jquery.com/jquery-1.11.1.js'></script>");
  println("<link rel='stylesheet' href='http://yui.yahooapis.com/pure/0.5.0/pure-min.css'>");
  String css="\t\t<style>\n" + "\n" + "\t\t\tbutton.pure-button {\n"+ "\t\t\t\tmargin:5px;\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\tspan.pure-button {\n"+ "\t\t\t\tcursor:default;\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\t.button-graphwide,\n"+ "\t\t\t.button-parkandrideunlinked,\n"+ "\t\t\t.button-graphconnectivity,\n"+ "\t\t\t.button-turnrestrictionbad\t{\n"+ "\t\t\t\tcolor:white;\n"+ "\t\t\t\ttext-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\t.button-graphwide {\n"+ "\t\t\t\tbackground: rgb(28, 184, 65); /* this is a green */\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\t.button-parkandrideunlinked {\n"+ "\t\t\t\tbackground: rgb(202, 60, 60); /* this is a maroon */\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\t.button-graphconnectivity{\n"+ "\t\t\t\tbackground: rgb(223, 117, 20); /* this is an orange */\n"+ "\t\t\t}\n"+ "\n"+ "\t\t\t.button-turnrestrictionbad {\n"+ "\t\t\t\tbackground: rgb(66, 184, 221); /* this is a light blue */\n"+ "\t\t\t}\n"+ "\n"+ "\t\t</style>\n"+ "";
  println(css);
  println("</head><body>");
  println("<h1>OpenTripPlanner annotations log</h1>");
  println("<h2>Graph report for " + outPath.getParentFile() + "Graph.obj</h2>");
  println("<p>");
  for (  String htmlAnnotationClass : classes) {
    if (htmlAnnotationClass.equals(current_class)) {
      println("<span>" + htmlAnnotationClass + "</span><br />");
    }
 else {
      println("<a href=\"" + htmlAnnotationClass + ".html\">"+ htmlAnnotationClass+ "</a><br />");
    }
  }
  println("</p>");
  println("<div id=\"buttons\"></div><ul id=\"log\"></ul>");
  println("\t<script>");
  writeJson();
  String js="\t\tvar selected = {};\n" + "\n" + "\t\t//select/deselects filters and correctly styles buttons\n"+ "\t\tfunction refilter(item) {\n"+ "\t\t\tconsole.debug(item.data.name);\n"+ "\t\t\tvar annotation = item.data.name;\n"+ "\t\t\tvar keyLower = \"button-\"+annotation.toLowerCase();\n"+ "\t\t\tif (annotation in selected) {\n"+ "\t\t   \t\tdelete selected[annotation];\t\n"+ "\t\t\t\t$(\"button.\"+keyLower).removeClass(keyLower);\n"+ "\t\t\t} else {\n"+ "\t\t\t\tselected[annotation] = true;\n"+ "\t\t\t\t$(\"button:contains('\"+annotation+\"')\").addClass(keyLower);\n"+ "\t\t\t}\n"+ "\t\t\tresetView();\n"+ "\n"+ "\t\t}\n"+ "\n"+ "\t\t//draws list based on selected buttons\n"+ "\t\tfunction resetView() {\n"+ "\t\t\t$(\"#log\").empty();\n"+ "\t\t\t$.each(data, function(key, value) {\n"+ "\t\t\t\t//console.log(key);\n"+ "\t\t\t\tif (key in selected) {\n"+ "\t\t\t\t\tvar keyLower = \"button-\"+key.toLowerCase();\n"+ "\t\t\t\t\t$.each(value, function(index, log) {\n"+ "\t\t\t\t\t$(\"#log\").append(\"<li>\"+ \"<span class='pure-button \" + keyLower + \"'>\"+ key + \"</span>\" + log+\"</li>\");\n"+ "\t\t\t\t\t});\n"+ "\t\t\t\t}\n"+ "\t\t\t});\n"+ "\t\t}\n"+ "\n"+ "\t\t//creates buttons\n"+ "\t\t$.each(data, function(key, value) {\n"+ "\t\t\t//console.info(key);\n"+ "\t\t\t//console.info(value);\n"+ "\t\t\tvar keyLower = \"button-\"+key.toLowerCase();\n"+ "\t\t\tselected[key] = true;\n"+ "\t\t\tlen = value.length;\n"+ "\t\t\t$(\"#buttons\").append(\"<button class='pure-button \" + keyLower + \"'>\"+key+ \" (\" + len + \")</button>\");\n"+ "\t\t\t$(\".\"+keyLower).on(\"click\", {name: key}, refilter);\n"+ "\t\t});\n"+ "\n"+ "\t\tresetView();\n"+ "";
  println(js);
  println("\t</script>");
  println("</body></html>");
  close();
}
