{
  Graph gg=new Graph();
  Vertex start=gg.addVertex("start");
  Vertex end=gg.addVertex("end");
  WalkOptions wo=new WalkOptions();
  wo.speed=1.37;
  double streetLength=100;
  Edge ee=gg.addEdge(start,end,new Street(streetLength));
  GregorianCalendar startTime=new GregorianCalendar(2009,9,21,13,0,0);
  GregorianCalendar endTime=(GregorianCalendar)startTime.clone();
  int expectedSecElapsed=(int)(streetLength / wo.speed);
  endTime.add(GregorianCalendar.SECOND,expectedSecElapsed);
  State s0=new State(startTime);
  WalkResult wr=ee.walk(s0,wo);
  assertNotNull(wr);
  assertEquals(wr.weight,streetLength / wo.speed);
  assertEquals(wr.state.time,endTime);
  wr=null;
  s0=new State(endTime);
  wr=ee.walkBack(s0,wo);
  assertNotNull(wr);
  assertEquals(wr.weight,streetLength / wo.speed);
  assertEquals(wr.state.time,startTime);
}
