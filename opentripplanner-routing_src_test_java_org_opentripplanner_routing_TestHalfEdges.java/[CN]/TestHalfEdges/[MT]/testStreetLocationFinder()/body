{
  StreetVertexIndexServiceImpl finder=new StreetVertexIndexServiceImpl(graph);
  finder.setup();
  assertTrue(finder.getLocalTransitStops(new Coordinate(-74.005000001,40.01),100).size() > 0);
  StreetLocation start=(StreetLocation)finder.getClosestVertex(new Coordinate(-74.01,40.004),null);
  assertNotNull(start);
  List<DirectEdge> extra=start.getExtra();
  assertEquals(10,extra.size());
  TraverseOptions biking=new TraverseOptions(new TraverseModeSet(TraverseMode.BICYCLE));
  StreetLocation end=(StreetLocation)finder.getClosestVertex(new Coordinate(-74.0,40.008),biking);
  assertNotNull(end);
  extra=end.getExtra();
  assertEquals(5,extra.size());
}
