{
  StreetVertexIndexServiceImpl finder=new StreetVertexIndexServiceImpl(graph);
  finder.setup();
  assertTrue(finder.getClosestVertex(graph,new Coordinate(-74.05000001,40.1),null) instanceof TransitStop);
  StreetLocation start=(StreetLocation)finder.getClosestVertex(graph,new Coordinate(-74.1,40.04),null);
  assertNotNull(start);
  List<Edge> extra=start.getExtra();
  assertEquals(5,extra.size());
  TraverseOptions biking=new TraverseOptions(new TraverseModeSet(TraverseMode.BICYCLE));
  StreetLocation end=(StreetLocation)finder.getClosestVertex(graph,new Coordinate(-74.0,40.08),biking);
  assertNotNull(end);
  extra=end.getExtra();
  assertEquals(5,extra.size());
}
