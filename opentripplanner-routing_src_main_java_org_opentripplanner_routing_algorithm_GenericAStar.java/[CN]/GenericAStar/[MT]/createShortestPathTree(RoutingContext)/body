{
  ShortestPathTree spt=null;
  if (_shortestPathTreeFactory != null)   spt=_shortestPathTreeFactory.create(rctx);
  if (spt == null) {
    if (rctx.opt.getModes().isTransit()) {
      spt=new MultiShortestPathTree(rctx);
    }
 else {
      spt=new BasicShortestPathTree(rctx);
    }
  }
  return spt;
}
