{
  int startMillis=millis();
  if (drawLevel == DRAW_PARTIAL) {
    drawPartial(startMillis);
  }
 else   if (drawLevel == DRAW_ALL) {
    boolean success=drawAll(startMillis);
    if (!success) {
      return;
    }
  }
 else   if (drawLevel == DRAW_LINKS) {
    boolean success=drawLinks(startMillis);
    if (!success) {
      return;
    }
  }
 else   if (drawLevel == DRAW_TRANSIT) {
    boolean success=drawTransit(startMillis);
    if (!success) {
      return;
    }
  }
 else   if (drawLevel == DRAW_VERTICES) {
    drawVertices();
  }
 else   if (drawLevel == DRAW_MINIMAL) {
    if (!newHighlightedEdges.isEmpty())     handleNewHighlights();
    drawNewEdges();
    if (drawSPTNext) {
      simpleSPT.draw();
      drawSPTNext=false;
    }
    drawCoords();
  }
  drawOffset=0;
  if (drawLevel > DRAW_MINIMAL)   drawLevel-=1;
}
