{
  Vertex here=state.getVertex();
  State existing=states.get(here);
  if (existing == null || state.betterThan(existing)) {
    states.put(here,state);
    return true;
  }
 else {
    final Edge backEdge=existing.getBackEdge();
    if (backEdge instanceof PlainStreetEdge) {
      PlainStreetEdge pseBack=(PlainStreetEdge)backEdge;
      if (pseBack.hasExplicitTurnRestrictions()) {
        return true;
      }
    }
    return false;
  }
}
