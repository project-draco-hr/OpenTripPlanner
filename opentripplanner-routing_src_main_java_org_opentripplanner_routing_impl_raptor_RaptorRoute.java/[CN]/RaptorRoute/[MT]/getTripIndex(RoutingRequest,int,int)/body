{
  RaptorBoardSpec spec=new RaptorBoardSpec();
  spec.departureTime=Integer.MAX_VALUE;
  spec.tripIndex=-1;
  spec.patternIndex=-1;
  for (int i=0; i < boards[stopNo].length; ++i) {
    PatternBoard board=boards[stopNo][i];
    State state=new State(board.getFromVertex(),arrivalTime,request);
    State result=board.traverse(state);
    if (result == null)     continue;
    int time=(int)result.getTime();
    if (time < spec.departureTime) {
      spec.departureTime=time;
      spec.tripIndex=result.getTrip();
      spec.patternIndex=i;
      spec.serviceDay=result.getServiceDay();
    }
  }
  if (spec.patternIndex == -1)   return null;
  return spec;
}
