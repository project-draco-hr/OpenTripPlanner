{
  TripDurationResponse res=new TripDurationResponse();
  TripParameters trip=req.getTrip();
  RoutingRequest options=TripUtil.initRoutingRequest(trip);
  options.setNumItineraries(1);
  options.setRoutingContext(graphService.getGraph());
  List<GraphPath> paths=pathService.getPaths(options);
  if (paths.size() > 0) {
    GraphPath p=paths.get(0);
    res.setExpected_trip_duration(p.getDuration());
  }
 else {
    LOG.warn("Found no path for trip");
    throw new NoPathFoundError("No path found for your trip.");
  }
  return res;
}
