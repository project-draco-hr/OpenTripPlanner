{
  PatchCreationResponse response=new PatchCreationResponse();
  for (  Patch patch : patches.patches) {
    if (patch.getId() == null) {
      response.status="Every patch must have an id";
      return response;
    }
    if (patch instanceof AlertPatch) {
      AlertPatch alertPatch=(AlertPatch)patch;
      final AgencyAndId route=alertPatch.getRoute();
      if (route != null && route.getId().equals("")) {
        response.status="Every route patch must have a route id";
        return response;
      }
    }
  }
  for (  Patch patch : patches.patches) {
    patchservice.apply(patch);
  }
  response.status="OK";
  return response;
}
