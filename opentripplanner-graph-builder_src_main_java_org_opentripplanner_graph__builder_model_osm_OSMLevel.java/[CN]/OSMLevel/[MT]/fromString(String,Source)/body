{
  float altitude=0;
  int lastIndexAt=spec.lastIndexOf('@');
  if (lastIndexAt != -1) {
    try {
      altitude=Integer.parseInt(spec.substring(lastIndexAt + 1));
    }
 catch (    NumberFormatException e3) {
      altitude=0;
    }
    spec=spec.substring(0,lastIndexAt);
  }
  String shortName="";
  String longName="";
  Integer indexEquals=spec.indexOf('=');
  if (indexEquals >= 1) {
    shortName=spec.substring(0,indexEquals);
    longName=spec.substring(indexEquals + 1);
  }
 else {
    shortName=longName=spec;
  }
  int floorNumber=0;
  try {
    floorNumber=Integer.parseInt(shortName);
  }
 catch (  NumberFormatException e) {
    try {
      floorNumber=Integer.parseInt(longName);
    }
 catch (    NumberFormatException e2) {
      _log.warn("Could not determine ordinality of layer {}. " + "Elevators will work, but costing may be incorrect. " + "A level map should be used in this situation.",spec);
      floorNumber=(int)(altitude);
    }
  }
  return new OSMLevel(floorNumber,altitude,shortName,longName,source);
}
