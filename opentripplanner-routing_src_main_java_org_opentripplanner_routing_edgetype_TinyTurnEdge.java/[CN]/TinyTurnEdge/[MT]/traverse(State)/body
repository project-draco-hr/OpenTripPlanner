{
  TraverseOptions options=s0.getOptions();
  if (restricted && !options.getModes().contains(TraverseMode.WALK)) {
    return null;
  }
  double angleLength=turnCost / 20.0;
  double time=angleLength / options.speed;
  double weight=time * options.walkReluctance + turnCost / 20;
  EdgeNarrative en=new FixedModeEdge(this,s0.getOptions().getModes().getNonTransitMode());
  StateEditor s1=s0.edit(this,en);
  s1.incrementWeight(weight);
  return s1.makeState();
}
