{
  if (turnRestricted(s0,options) && !options.getModes().getWalk()) {
    return null;
  }
  TraverseMode traverseMode=s0.getNonTransitMode(options);
  double speed=options.getSpeed(traverseMode);
  double angleLength=turnCost / 20.0;
  double time=angleLength / speed;
  double weight=time * options.walkReluctance + turnCost / 20;
  EdgeNarrative en=new FixedModeEdge(this,traverseMode);
  StateEditor s1=s0.edit(this,en);
  s1.incrementWeight(weight);
  s1.incrementTimeInSeconds((int)Math.ceil(time));
  return s1.makeState();
}
