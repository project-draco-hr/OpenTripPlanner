{
  GtfsContext context=GtfsLibrary.readGtfs(new File(ConstantsForTests.CALTRAIN_GTFS));
  WalkOptions options=new WalkOptions();
  options.setGtfsContext(context);
  Graph gg=new Graph();
  GTFSHopLoader hl=new GTFSHopLoader(gg,context);
  hl.load();
  ShortestPathTree spt=Dijkstra.getShortestPathTree(gg,"Caltrain_Millbrae Caltrain","Caltrain_Mountain View Caltrain",new State(new GregorianCalendar(2009,8,7,12,0,0).getTimeInMillis()),options);
  assertTrue(((Hop)spt.getPath(gg.getVertex("Caltrain_Mountain View Caltrain")).vertices.lastElement().incoming.payload).getEndStopTime().getArrivalTime() == 48540);
}
