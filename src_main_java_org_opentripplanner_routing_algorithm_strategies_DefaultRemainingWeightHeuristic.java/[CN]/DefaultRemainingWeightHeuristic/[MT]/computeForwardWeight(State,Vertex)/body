{
  Vertex sv=s.getVertex();
  double euclideanDistance=distanceLibrary.fastDistance(sv.getY(),sv.getX(),targetY,targetX);
  if (transit) {
    if (euclideanDistance < requiredWalkDistance) {
      return walkReluctance * euclideanDistance / maxStreetSpeed;
    }
    double transitWeight=(euclideanDistance - requiredWalkDistance) / maxTransitSpeed;
    double streetWeight=walkReluctance * (requiredWalkDistance / maxStreetSpeed);
    return transitWeight + streetWeight;
  }
 else {
    return walkReluctance * euclideanDistance / maxStreetSpeed;
  }
}
