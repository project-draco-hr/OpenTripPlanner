{
  boolean accept=false;
  int currentState=0;
  for (  Class<? extends Edge> edgeClass : path) {
    State state=mock(State.class);
    Edge edge=mock(edgeClass);
    when(state.getBackEdge()).thenReturn(edge);
    int terminal=parser.terminalFor(state);
    currentState=parser.transition(currentState,terminal);
    if (currentState == AutomatonState.REJECT) {
      return false;
    }
  }
  if (parser.accepts(currentState)) {
    accept=true;
  }
  return accept;
}
