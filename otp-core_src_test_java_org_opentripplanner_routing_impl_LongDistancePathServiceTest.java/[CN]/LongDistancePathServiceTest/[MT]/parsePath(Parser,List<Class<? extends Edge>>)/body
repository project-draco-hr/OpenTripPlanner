{
  boolean accepted=false;
  int currentState=AutomatonState.START;
  for (  Class<? extends Edge> edgeClass : path) {
    State state=mock(State.class);
    Edge edge=mock(edgeClass);
    when(state.getBackEdge()).thenReturn(edge);
    int terminal=parser.terminalFor(state);
    currentState=parser.transition(currentState,terminal);
    if (currentState == AutomatonState.REJECT) {
      return false;
    }
  }
  if (parser.accepts(currentState)) {
    accepted=true;
  }
  return accepted;
}
