{
  Set<Long> possibleIntersectionNodes=new HashSet<Long>();
  for (  OSMWay way : _ways.values()) {
    List<Long> nodes=way.getNodeRefs();
    for (    long node : nodes) {
      if (possibleIntersectionNodes.contains(node)) {
        intersectionNodes.put(node,null);
      }
 else {
        possibleIntersectionNodes.add(node);
      }
    }
  }
  for (  Area area : _walkableAreas) {
    for (    Ring outerRing : area.outermostRings) {
      for (      OSMNode node : outerRing.nodes) {
        long nodeId=node.getId();
        if (possibleIntersectionNodes.contains(nodeId)) {
          intersectionNodes.put(nodeId,null);
        }
 else {
          possibleIntersectionNodes.add(nodeId);
        }
      }
    }
  }
  for (  Area area : _parkAndRideAreas) {
    for (    Ring outerRing : area.outermostRings) {
      for (      OSMNode node : outerRing.nodes) {
        long nodeId=node.getId();
        if (possibleIntersectionNodes.contains(nodeId)) {
          intersectionNodes.put(nodeId,null);
        }
 else {
          possibleIntersectionNodes.add(nodeId);
        }
      }
    }
  }
}
