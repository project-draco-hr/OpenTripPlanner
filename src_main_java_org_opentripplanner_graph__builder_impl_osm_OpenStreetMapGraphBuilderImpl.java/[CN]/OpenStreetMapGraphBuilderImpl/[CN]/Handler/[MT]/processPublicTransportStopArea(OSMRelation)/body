{
  OSMWithTags platformArea=null;
  Set<OSMNode> platformsNodes=new HashSet<>();
  for (  OSMRelationMember member : relation.getMembers()) {
    if ("way".equals(member.getType()) && "platform".equals(member.getRole()) && _areaWayIds.contains(member.getRef())) {
      if (platformArea == null)       platformArea=_areaWaysById.get(member.getRef());
 else       LOG.warn("Too many areas in relation " + relation.getId());
    }
 else     if ("relation".equals(member.getType()) && "platform".equals(member.getRole()) && _relations.containsKey(member.getRef())) {
      if (platformArea == null)       platformArea=_relations.get(member.getRef());
 else       LOG.warn("Too many areas in relation " + relation.getId());
    }
 else     if ("node".equals(member.getType()) && _nodes.containsKey(member.getRef())) {
      platformsNodes.add(_nodes.get(member.getRef()));
    }
  }
  if (platformArea != null && !platformsNodes.isEmpty())   stopsInAreas.put(platformArea,platformsNodes);
 else   LOG.warn("Unable to process public transportation relation " + relation.getId());
}
