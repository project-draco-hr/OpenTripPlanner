{
  Set<Alert> note=wayPropertySet.getNoteForWay(way);
  Set<Alert> wheelchairNote=getWheelchairNotes(way);
  boolean noThruTraffic=way.isThroughTrafficExplicitlyDisallowed();
  if (street != null) {
    double safety=wayData.getSafetyFeatures().getFirst();
    street.setBicycleSafetyEffectiveLength(street.getLength() * safety);
    if (safety < bestBikeSafety) {
      bestBikeSafety=safety;
    }
    if (note != null) {
      street.setNote(note);
    }
    if (wheelchairNote != null) {
      street.setWheelchairNote(wheelchairNote);
    }
    street.setNoThruTraffic(noThruTraffic);
  }
  if (backStreet != null) {
    double safety=wayData.getSafetyFeatures().getSecond();
    if (safety < bestBikeSafety) {
      bestBikeSafety=safety;
    }
    backStreet.setBicycleSafetyEffectiveLength(backStreet.getLength() * safety);
    if (note != null) {
      backStreet.setNote(note);
    }
    if (wheelchairNote != null) {
      backStreet.setWheelchairNote(wheelchairNote);
    }
    backStreet.setNoThruTraffic(noThruTraffic);
  }
}
