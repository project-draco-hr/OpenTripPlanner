{
  for (  Vertex v : graph.getVertices()) {
    for (    Edge e : v.getOutgoing()) {
      if (e instanceof PatternEdge) {
        PatternEdge pe=(PatternEdge)e;
        TripPattern pattern=pe.getPattern();
        if (pattern instanceof BasicTripPattern) {
          pe.setPattern(((BasicTripPattern)pattern).convertToArrayTripPattern());
        }
      }
    }
  }
}
