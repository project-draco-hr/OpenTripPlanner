{
  server|=(inMemory || port != null);
  if (graphDirectory == null)   graphDirectory=DEFAULT_GRAPH_DIRECTORY;
  if (routerIds == null)   routerIds=Arrays.asList(DEFAULT_ROUTER_ID);
  if (cacheDirectory == null)   cacheDirectory=DEFAULT_CACHE_DIRECTORY;
  if (pointSetDirectory == null)   pointSetDirectory=DEFAULT_POINTSET_DIRECTORY;
  if (server && port == null) {
    port=DEFAULT_PORT;
    new AvailablePort().validate(port);
  }
  if (server && securePort == null) {
    securePort=DEFAULT_SECURE_PORT;
    new AvailablePort().validate(securePort);
  }
}
