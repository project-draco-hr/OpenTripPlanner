{
  long t0=System.currentTimeMillis();
  BufferedImage image=getEmptyImage(renderRequest.style);
  byte[] imagePixelData=((DataBufferByte)image.getRaster().getDataBuffer()).getData();
  int i=0;
  final byte TRANSPARENT=(byte)255;
  for (  Sample s : getSamples()) {
    byte pixel;
    if (s != null) {
      double t=(k1 * s.eval(spt1) + k2 * s.eval(spt2)) / 60 + intercept;
      if (t < 0 || t > 255)       t=TRANSPARENT;
      pixel=(byte)t;
    }
 else {
      pixel=TRANSPARENT;
    }
    imagePixelData[i]=pixel;
    i++;
  }
  long t1=System.currentTimeMillis();
  LOG.debug("filled in tile image from SPT in {}msec",t1 - t0);
  return image;
}
