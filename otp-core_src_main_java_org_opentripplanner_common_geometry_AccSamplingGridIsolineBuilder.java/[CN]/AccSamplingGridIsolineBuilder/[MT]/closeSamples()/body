{
  final List<GridSample> processList=new ArrayList<GridSample>(allSamples.size());
  allSamples.iterate(new Visitor<GridSample>(){
    public void visit(    GridSample A){
      processList.add(A);
    }
  }
);
  int n=0;
  for (  GridSample A : processList) {
    if (A.right == null) {
      closeSample(A.x + 1,A.y,null,null,null,A);
      n++;
    }
    if (A.left == null) {
      closeSample(A.x - 1,A.y,null,null,A,null);
      n++;
    }
    if (A.up == null) {
      closeSample(A.x,A.y + 1,null,A,null,null);
      n++;
    }
    if (A.down == null) {
      closeSample(A.x,A.y - 1,A,null,null,null);
      n++;
    }
  }
  LOG.info("Added {} closing samples to get a total of {}.",n,allSamples.size());
}
