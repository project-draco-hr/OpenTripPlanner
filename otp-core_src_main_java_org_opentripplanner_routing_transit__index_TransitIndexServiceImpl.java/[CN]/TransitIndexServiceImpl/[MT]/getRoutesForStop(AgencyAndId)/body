{
  HashSet<AgencyAndId> out=new HashSet<AgencyAndId>();
  Edge edge=preBoardEdges.get(stop);
  if (edge == null)   return new ArrayList<AgencyAndId>();
  for (  Edge e : edge.getToVertex().getOutgoing()) {
    if (e instanceof TransitBoardAlight && ((TransitBoardAlight)e).isBoarding()) {
      TransitBoardAlight board=(TransitBoardAlight)e;
      out.add(board.getPattern().getExemplar().getRoute().getId());
    }
  }
  return new ArrayList<AgencyAndId>(out);
}
