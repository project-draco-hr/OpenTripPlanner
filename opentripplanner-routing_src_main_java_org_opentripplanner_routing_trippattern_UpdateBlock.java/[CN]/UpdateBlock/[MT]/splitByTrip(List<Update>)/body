{
  List<UpdateBlock> ret=new LinkedList<UpdateBlock>();
  Collections.sort(mixedUpdates);
  UpdateBlock ul=null;
  for (  Update u : mixedUpdates) {
    if (ul == null || !ul.tripId.equals(u.tripId)) {
      ul=new UpdateBlock(u.tripId);
      ret.add(ul);
    }
    ul.updates.add(u);
  }
  return ret;
}
