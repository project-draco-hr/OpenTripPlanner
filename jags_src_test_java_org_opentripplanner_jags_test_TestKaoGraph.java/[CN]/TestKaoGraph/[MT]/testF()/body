{
  GtfsContext context=GtfsLibrary.readGtfs(new File(ConstantsForTests.CALTRAIN_GTFS));
  KaoGraph kg=new KaoGraph();
  kg.setGtfsContext(context);
  GTFSHopLoader hl=new GTFSHopLoader(kg,context);
  hl.load();
  ArrayList<EdgeOption> hol=kg.sortedEdges(new GregorianCalendar(2009,8,7,12,0,0).getTime(),1000000000);
  Hop firstHop=null;
  for (  EdgeOption eo : hol) {
    if (eo.edge.payload instanceof Hop) {
      firstHop=(Hop)eo.edge.payload;
      break;
    }
  }
  assertEquals(43200,firstHop.getStartStopTime().getArrivalTime());
  assertEquals(82260,((Hop)hol.get(hol.size() - 1).edge.payload).getEndStopTime().getArrivalTime());
}
