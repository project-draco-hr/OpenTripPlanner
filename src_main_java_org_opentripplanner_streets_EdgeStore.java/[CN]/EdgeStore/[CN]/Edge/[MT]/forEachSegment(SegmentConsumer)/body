{
  VertexStore.Vertex vertex=vertexStore.getCursor(fromVertices.get(pairIndex));
  int prevFixedLat=vertex.getFixedLat();
  int prevFixedLon=vertex.getFixedLon();
  int[] intermediates=geometries.get(pairIndex);
  int s=0;
  int i=0;
  while (i < intermediates.length) {
    int fixedLat=intermediates[i++];
    int fixedLon=intermediates[i++];
    segmentConsumer.consumeSegment(s,prevFixedLat,prevFixedLon,fixedLat,fixedLon);
    prevFixedLat=fixedLat;
    prevFixedLon=fixedLon;
    s++;
  }
  vertex.seek(toVertices.get(pairIndex));
  segmentConsumer.consumeSegment(s,prevFixedLat,prevFixedLon,vertex.getFixedLat(),vertex.getFixedLon());
}
