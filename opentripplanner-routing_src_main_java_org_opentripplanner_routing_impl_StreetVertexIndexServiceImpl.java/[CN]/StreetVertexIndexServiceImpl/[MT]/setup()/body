{
  edgeTree=new STRtree();
  transitStopTree=new STRtree();
  HashSet<Edge> edges=new HashSet<Edge>();
  for (  Vertex v : graph.getVertices()) {
    if (v.getType() == Intersection.class) {
      for (      Edge e : v.getOutgoing()) {
        if (e instanceof Street) {
          edges.add(e);
          Envelope env=new Envelope(v.getCoordinate(),e.getToVertex().getCoordinate());
          edgeTree.insert(env,e);
        }
      }
    }
 else     if (v.getType() == TransitStop.class) {
      Envelope env=new Envelope(v.getCoordinate());
      transitStopTree.insert(env,v);
    }
  }
  edgeTree.build();
  transitStopTree.build();
}
