{
  GtfsContext context=GtfsLibrary.readGtfs(new File(ConstantsForTests.CALTRAIN_GTFS));
  Graph graph=new Graph();
  GTFSHopLoader loader=new GTFSHopLoader(graph,context);
  loader.load(null);
  Set<Hop> hopSet=new HashSet<Hop>();
  for (  Vertex v : graph.getVertices()) {
    for (    Edge e : v.getOutgoing()) {
      if (e instanceof Hop) {
        hopSet.add((Hop)e);
      }
    }
  }
  ArrayList<Hop> hops=new ArrayList<Hop>(hopSet);
  Collections.sort(hops,new Hop.HopArrivalTimeComparator());
  Hop last=hops.get(hops.size() - 1);
  assertEquals(91740,last.getStartStopTime().getDepartureTime());
}
