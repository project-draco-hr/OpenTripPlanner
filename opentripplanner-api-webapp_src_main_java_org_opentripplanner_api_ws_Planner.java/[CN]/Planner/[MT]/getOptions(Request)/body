{
  TraverseModeSet modeSet=request.getModeSet();
  assert(modeSet.isValid());
  TraverseOptions options=new TraverseOptions(modeSet);
  options.optimizeFor=request.getOptimize();
  options.back=request.isArriveBy();
  options.wheelchairAccessible=request.getWheelchair();
  if (request.getMaxSlope() > 0) {
    options.maxSlope=request.getMaxSlope();
  }
  if (request.getMaxWalkDistance() > 0) {
    options.maxWalkDistance=request.getMaxWalkDistance();
  }
  return options;
}
