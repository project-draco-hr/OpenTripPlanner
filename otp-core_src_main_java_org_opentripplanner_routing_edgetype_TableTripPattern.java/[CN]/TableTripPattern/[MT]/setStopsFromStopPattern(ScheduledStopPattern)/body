{
  patternHops=new PatternHop[stopPattern.stops.size() - 1];
  perStopFlags=new int[stopPattern.stops.size()];
  int i=0;
  for (  Stop stop : stopPattern.stops) {
    if (stop.getWheelchairBoarding() == 1) {
      perStopFlags[i]|=FLAG_WHEELCHAIR_ACCESSIBLE;
    }
    perStopFlags[i]|=stopPattern.pickups.get(i) << SHIFT_PICKUP;
    perStopFlags[i]|=stopPattern.dropoffs.get(i) << SHIFT_DROPOFF;
    ++i;
  }
}
