{
  RoutingRequest options=s0.getOptions();
  Timetable timetable=scheduledTimetable;
  TimetableResolver snapshot=options.rctx.timetableSnapshot;
  if (snapshot != null)   timetable=snapshot.resolve(this,serviceDay.getServiceDate());
  return timetable.getNextTrip(s0,serviceDay,stopIndex,boarding);
}
