{
  RoutingRequest options=s0.getOptions();
  Timetable timetable=scheduledTimetable;
  TimetableResolver snapshot=options.rctx.timetableSnapshot;
  if (snapshot != null)   timetable=snapshot.resolve(this,serviceDay.getServiceDate());
  if (options.wheelchairAccessible && (perStopFlags[stopIndex] & FLAG_WHEELCHAIR_ACCESSIBLE) == 0) {
    return null;
  }
  return timetable.getNextTrip(s0,serviceDay,stopIndex,boarding);
}
