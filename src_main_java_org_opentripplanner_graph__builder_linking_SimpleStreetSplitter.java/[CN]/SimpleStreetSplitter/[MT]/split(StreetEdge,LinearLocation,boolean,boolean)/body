{
  LineString geometry=edge.getGeometry();
  Coordinate splitPoint=ll.getCoordinate(geometry);
  SplitterVertex v;
  if (temporarySplit) {
    v=new TemporarySplitterVertex(graph,"split from " + edge.getId(),splitPoint.x,splitPoint.y,edge,endVertex);
  }
 else {
    v=new SplitterVertex(graph,"split from " + edge.getId(),splitPoint.x,splitPoint.y,edge);
  }
  P2<StreetEdge> edges=edge.split(v,!temporarySplit);
  updateIndex(edges);
  removeOriginalEdge(edge);
  return v;
}
