{
  GraphVertex stop_a_depart=graph.getGraphVertex("agency_A_depart");
  GraphVertex stop_b_depart=graph.getGraphVertex("agency_B_depart");
  assertEquals(1,stop_a_depart.getDegreeOut());
  assertEquals(3,stop_b_depart.getDegreeOut());
  for (  Edge e : stop_a_depart.getOutgoing()) {
    assertTrue(e instanceof PatternBoard);
  }
  PatternBoard pb=(PatternBoard)stop_a_depart.getOutgoing().iterator().next();
  GraphVertex journey_a_1=graph.getGraphVertex(pb.getToVertex());
  assertEquals(1,journey_a_1.getDegreeIn());
  for (  DirectEdge e : filter(journey_a_1.getOutgoing(),DirectEdge.class)) {
    if (e.getToVertex() instanceof TransitStop) {
      assertEquals(Alight.class,e.getClass());
    }
 else {
      assertEquals(PatternHop.class,e.getClass());
    }
  }
}
