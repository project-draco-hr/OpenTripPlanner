{
  double weight;
  if (wo.wheelchairAccessible) {
    weight=slopeSpeedEffectiveLength / wo.speed;
  }
 else   if (wo.modes.contains(TraverseMode.BICYCLE)) {
switch (wo.optimizeFor) {
case SAFE:
      weight=bicycleSafetyEffectiveLength / wo.speed;
    break;
case FLAT:
  weight=slopeCostEffectiveLength;
break;
case QUICK:
weight=slopeSpeedEffectiveLength / wo.speed;
break;
default :
weight=length / wo.speed;
}
}
 else {
weight=time;
}
if (s0.walkDistance > wo.maxWalkDistance && wo.modes.getTransit()) {
weight*=100;
}
weight*=wo.walkReluctance;
return weight;
}
