{
  if (!wo.getModes().contains(hop.getMode())) {
    return null;
  }
  if (wo.wheelchairAccessible && !wheelchairAccessible) {
    return null;
  }
  long currentTime=s0.getTime();
  Date serviceDate=getServiceDate(currentTime,true);
  int secondsSinceMidnight=(int)((currentTime - serviceDate.getTime()) / 1000);
  CalendarService service=wo.getCalendarService();
  if (!service.getServiceDatesForServiceId(hop.getServiceId()).contains(serviceDate))   return null;
  int wait=secondsSinceMidnight - hop.getEndStopTime().getArrivalTime();
  if (wait < 0) {
    return null;
  }
  State state1=s0.clone();
  state1.incrementTimeInSeconds(-wait);
  return new TraverseResult(wait,state1,this);
}
