{
  AgencyAndId station=new AgencyAndId("Agency","Station");
  Stop stop0=new Stop();
  Stop stop1=new Stop();
  ArrayList<Stop> stops=new ArrayList<Stop>(2);
  TransitIndex transitIndex=new TransitIndex();
  GraphService graphService=mock(GraphService.class);
  Graph graph=mock(Graph.class);
  TransitIndexService transitIndexService=mock(TransitIndexService.class);
  when(graphService.getGraph(Matchers.anyString())).thenReturn(graph);
  when(graph.getService(TransitIndexService.class)).thenReturn(transitIndexService);
  when(transitIndexService.getStopsForStation(station)).thenReturn(stops);
  stop0.setId(new AgencyAndId("Agency","Stop 0"));
  stop1.setId(new AgencyAndId("Agency","Stop 1"));
  stops.add(stop0);
  stops.add(stop1);
  transitIndex.setGraphService(graphService);
  Object object=transitIndex.getStopTimesForStation("Agency","Station",0,null,null,null,null,null);
  if (object instanceof StopTimeList[]) {
    StopTimeList[] array=(StopTimeList[])object;
    assertEquals(2,array.length);
    assertEquals(stop0.getId(),array[0].stop);
    assertEquals(stop1.getId(),array[1].stop);
  }
 else   fail("The getStopTimesForStation() method didn't return a StopTimeList[] instance.");
}
