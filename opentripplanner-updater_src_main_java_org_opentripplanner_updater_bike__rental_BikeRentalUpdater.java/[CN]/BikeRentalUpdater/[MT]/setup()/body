{
  graph=graphService.getGraph(routerId);
  if (graph == null && setup) {
    LOG.error("Can't get graph for router ID {}, disabling updater.",routerId);
    networkLinkerLibrary=null;
    service=null;
    setup=false;
  }
  if (graph != null && !setup) {
    LOG.info("Setting up updater for router ID {}.",routerId);
    networkLinkerLibrary=new NetworkLinkerLibrary(graph,Collections.<Class<?>,Object>emptyMap());
    service=graph.getService(BikeRentalStationService.class);
    if (service == null) {
      service=new BikeRentalStationService();
      graph.putService(BikeRentalStationService.class,service);
    }
    setup=true;
  }
  return setup;
}
