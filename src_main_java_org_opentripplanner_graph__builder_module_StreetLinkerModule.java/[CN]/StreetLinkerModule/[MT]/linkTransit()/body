{
  LOG.info("Linking transit stops to streets...");
  int nUnlinked=0;
  for (  TransitStop ts : stopVertices) {
    if (!graph.containsInOSM(ts.getCoordinate())) {
      continue;
    }
    boolean alreadyLinked=false;
    for (    Edge e : ts.getOutgoing()) {
      if (e instanceof StreetTransitLink) {
        alreadyLinked=true;
        break;
      }
    }
    if (alreadyLinked)     continue;
    if (ts.isEntrance() || !ts.hasEntrances()) {
      boolean wheelchairAccessible=ts.hasWheelchairEntrance();
      if (!networkLinkerLibrary.connectVertexToStreets(ts,wheelchairAccessible).getResult()) {
        LOG.debug(graph.addBuilderAnnotation(new StopUnlinked(ts)));
        nUnlinked+=1;
      }
    }
  }
  if (nUnlinked > 0) {
    LOG.warn("{} transit stops were not close enough to the street network to be connected to it.",nUnlinked);
  }
}
