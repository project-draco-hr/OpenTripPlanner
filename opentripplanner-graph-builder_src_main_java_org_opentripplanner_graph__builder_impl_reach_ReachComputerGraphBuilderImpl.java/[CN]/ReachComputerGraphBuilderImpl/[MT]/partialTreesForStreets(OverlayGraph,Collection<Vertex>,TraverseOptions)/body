{
  HashSet<Edge> added=new HashSet<Edge>();
  OverlayGraph workingGraph=new OverlayGraph();
  for (  Vertex v : streetVertices) {
    for (    Edge e : v.getOutgoing()) {
      if (e instanceof EdgeWithReach) {
        if (!added.contains(e)) {
          added.add(e);
          workingGraph.addEdge((Edge)e);
        }
      }
    }
    for (    Edge e : v.getIncoming()) {
      if (e instanceof EdgeWithReach) {
        if (!added.contains(e)) {
          added.add(e);
          workingGraph.addEdge((Edge)e);
        }
      }
    }
  }
  added.clear();
  ograph=workingGraph;
  epsilon=initialStreetEpsilon;
  while (epsilon <= maxStreetEpsilon) {
    ograph=partialTreesPhase(ograph,streetVertices,options,false);
    epsilon*=streetEpsilonMultiplier;
  }
}
