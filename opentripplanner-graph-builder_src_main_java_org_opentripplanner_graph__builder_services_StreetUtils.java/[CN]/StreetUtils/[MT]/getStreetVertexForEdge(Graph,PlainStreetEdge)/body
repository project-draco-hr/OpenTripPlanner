{
  boolean back=e.back;
  String id=e.getId();
  Vertex v=graph.getVertex(id + (back ? " back" : ""));
  if (v != null) {
    return (StreetVertex)v;
  }
  StreetVertex newv=new StreetVertex(id,e.getGeometry(),e.getName(),e.getLength(),back,e.getNotes());
  newv.setWheelchairAccessible(e.isWheelchairAccessible());
  newv.setBicycleSafetyEffectiveLength(e.getBicycleSafetyEffectiveLength());
  newv.setCrossable(e.isCrossable());
  newv.setPermission(e.getPermission());
  newv.setSlopeOverride(e.getSlopeOverride());
  newv.setElevationProfile(e.getElevationProfile());
  newv.setRoundabout(e.isRoundabout());
  newv.setBogusName(e.hasBogusName());
  newv.setNoThruTraffic(e.isNoThruTraffic());
  graph.addVertex(newv);
  return newv;
}
