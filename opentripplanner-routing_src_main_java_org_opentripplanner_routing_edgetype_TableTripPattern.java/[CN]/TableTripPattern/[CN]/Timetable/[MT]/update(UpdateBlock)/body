{
  int tripIndex=getTripIndex(ul.tripId);
  if (tripIndex == -1) {
    LOG.debug("tripId {} not found",ul.tripId);
    return false;
  }
 else {
    LOG.debug("tripId {} found at index {}",ul.tripId,tripIndex);
  }
  int stopIndex=ul.findUpdateStopIndex(TableTripPattern.this);
  if (stopIndex == UpdateBlock.MATCH_FAILED) {
    LOG.trace("update block did not match stopIds");
    return false;
  }
  TripTimes oldTimes=getTripTimes(tripIndex);
  TripTimes newTimes=oldTimes.updatedClone(ul,stopIndex);
  this.tripTimes.set(tripIndex,newTimes);
  return true;
}
