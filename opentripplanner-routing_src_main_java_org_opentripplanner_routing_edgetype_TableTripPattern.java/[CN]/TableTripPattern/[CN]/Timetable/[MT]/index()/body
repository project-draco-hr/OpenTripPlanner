{
  int nHops=stops.length - 1;
  arrivalsIndex=new TripTimes[nHops][];
  departuresIndex=new TripTimes[nHops][];
  for (int hop=0; hop < nHops; hop++) {
    arrivalsIndex[hop]=tripTimes.toArray(new TripTimes[tripTimes.size()]);
    departuresIndex[hop]=tripTimes.toArray(new TripTimes[tripTimes.size()]);
    Arrays.sort(arrivalsIndex[hop],new TripTimes.ArrivalsComparator(hop));
    Arrays.sort(departuresIndex[hop],new TripTimes.DeparturesComparator(hop));
  }
}
