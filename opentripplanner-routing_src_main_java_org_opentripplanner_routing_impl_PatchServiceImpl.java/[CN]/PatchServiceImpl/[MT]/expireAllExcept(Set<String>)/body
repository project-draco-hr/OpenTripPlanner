{
  ArrayList<String> toRemove=new ArrayList<String>();
  for (  Entry<String,Patch> entry : patches.entrySet()) {
    final String key=entry.getKey();
    if (!retain.contains(key)) {
      toRemove.add(key);
      expire(entry.getValue());
    }
  }
  patches.keySet().removeAll(toRemove);
}
